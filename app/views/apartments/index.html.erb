<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SubletSpace</title>
  <!-- Link to the CSS file -->
  <link rel="stylesheet" href="/styles.css">
</head>
<body>



<ul>

  <% if current_user.present? %>
    <li><a href="/users/edit">Edit profile</a> </li>

    <li><a href="/users/sign_out">Sign out</a> </li>
  <% else %>
    <li><a href="/users/sign_up">Sign up</a> </li>

    <li><a href="/users/sign_in">Sign in</a> </li>
  <% end %>

  <li> <a href="/apartment_images"> View all apartment images</a> </li>
  <li> <a href="/inquiries"> View my inquiries </a> </li>

</ul>

<hr>

<div>
  <div>
    <h1>
      SubletSpace
    </h1>

    <h3> Looking to sublet an apartment? Going away for the holidays and need someone to cover the rent? Post your space or find the perfect place to suit your needs right here.
    </h3>

  </div>
</div>

<hr>
<div>
  <div>
    <table border="1">
      <tr>

        <th>
          Title
        </th>

        <th>
          Description
        </th>

        <th>
          Address
        </th>

        <th>
          City
        </th>

        <th>
          State
        </th>

        <th>
          Zip code
        </th>

        <th>
          Rent
        </th>

        <th>
          Availability start date
        </th>

        <th>
          Availability end date
        </th>

        <th>
          Owner
        </th>

        <th>
        </th>
      </tr>

      <% @list_of_apartments.each do |an_apartment| %>
        <tr>

          <td>
            <%= an_apartment.title %>
          </td>

          <td>
            <%= an_apartment.description %>
          </td>

          <td>
            <%= an_apartment.address %>
          </td>

          <td>
            <%= an_apartment.city %>
          </td>

          <td>
            <%= an_apartment.state %>
          </td>

          <td>
            <%= an_apartment.zip_code %>
          </td>

          <td>
            <%= an_apartment.rent %>
          </td>

          <td>
            <%= Date.parse(an_apartment.availability_start_date.to_s).strftime("%d %b, %Y") %>
          </td>
          <td>
            <%= Date.parse(an_apartment.availability_end_date.to_s).strftime("%d %b, %Y") %>
          </td>

          <td>
            <%= an_apartment.user.name %>
          </td>

          <td>
            <a href="/apartments/<%= an_apartment.id %>">
              Show details
            </a>
          </td>
        </tr>
      <% end %>
    </table>
  </div>
</div>

<br>
<br>

<hr>

<div>
  <div>

    <% if current_user.present? %>
      <h3>
        Add a new apartment
      </h3>

      <form action="/insert_apartment" method="post">
        <div>
          <label for="title_box">
            Title
          </label>

          <input type="text" id="title_box" name="query_title">
        </div>

        <div>
          <label for="description_box">
            Description
          </label>

          <input type="text" id="description_box" name="query_description">
        </div>

        <div>
          <label for="address_box">
            Address
          </label>

          <input type="text" id="address_box" name="query_address">
        </div>

        <div>
          <label for="city_box">
            City
          </label>

          <input type="text" id="city_box" name="query_city">
        </div>

        <div>
          <label for="state_box">
            State
          </label>

          <input type="text" id="state_box" name="query_state">
        </div>

        <div>
          <label for="zip_code_box">
            Zip code
          </label>

          <input type="text" id="zip_code_box" name="query_zip_code">
        </div>

        <div>
          <label for="rent_box">
            Rent
          </label>

          <input type="text" id="rent_box" name="query_rent">
        </div>

        <div>
          <label for="availability_start_date_box">
            Availability start date
          </label>

          <input type="text" id="availability_start_date_box" name="query_availability_start_date">
        </div>

        <div>
          <label for="availability_end_date_box">
            Availability end date
          </label>

          <input type="text" id="availability_end_date_box" name="query_availability_end_date">
        </div>

        <div>
          <label for="user_id_box">
            User
          </label>

          <input type="text" id="user_id_box" name="query_user_id">
        </div>

        <button>
          Create apartment
        </button>
      </form>

    <% else %>

      <i> <a href="/users/sign_in">Sign-in</a> or <a href="/users/sign_up">Sign-up</a> to add a new listing </i>

    <% end %>
  </div>
</div>


</body>
</html>
